  <article id="quest" class="clearfix">

    <section>
      <h3 class="title">
        <span class="author">
          <%= t('quest.from', username: link_to(@quest.creator.username, @quest.creator)).html_safe %>
        </span>
        <br>
        <cite><%= @quest.title %></cite>
        <br>
      </h3>
      <p class="desc">
        <%= render 'quests/current_winner', code: @quest.best_code %>
        <strong><%= t 'quest.answers_number' %>:</strong> <%= @quest.codes.count %> / <strong><%= t 'quest.posted_date' %>:</strong>
        <%= l @quest.created_at, format: :date_only %>
      </p>

      <% if user_signed_in? %>
        <div id="post-container">
          <% if current_user.wrote_code?(@quest) %>
            <%= link_to t('code.edit_long'), edit_quest_code_path(@quest, current_user.code_for_quest(@quest)), id: 'post', class: 'btn-default' %>
          <% else %>
            <%= link_to t('code.post'), new_quest_code_path(@quest), id: 'post', class: 'btn-default' %>
          <% end %>
        </div>
      <% end %>

      <%= render partial: 'codes/simple_code', collection: @codes, as: :code, locals: { skip_title: true, print_author: true } %>
    </section>

  <%= will_paginate @codes %>

</article>
